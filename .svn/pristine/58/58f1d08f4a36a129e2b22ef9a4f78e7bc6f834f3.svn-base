webpackJsonp([11],{"Zc+N":function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r={data:function(){return{show:!1,form:{},seconds:120,success:!1,colorflag:0,pswcolorflag:0,pswcolorflag1:0,codecolorflag:0,codeSrc:"",codeerrorflag:!1,usererrorflag:!1,pswerrorflag:!1,pswerrorflag1:!1,mobileerror:!1,hasAgree:!1}},methods:{toPath:function(e){this.$router.push({path:e})},changecolor:function(e,o){var s=this;if(1===e){if(this.colorflag=o,this.usererrorflag=!1,void 0!==this.form.mobile){/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/.test(this.form.mobile)?this.$apis.judgeMobile({mobile:this.form.mobile}).then(function(e){e.data.data.list.length>0&&(s.usererrorflag=!0,s.colorflag=2)}):(this.mobileerror=!0,this.colorflag=2)}}else 2===e?(this.pswcolorflag=o,this.pswerrorflag=!1):3===e?(this.codecolorflag=o,this.codeerrorflag=!1):4===e&&(this.pswcolorflag1=o,this.pswerrorflag1=!1,0===o&&this.form.pwd!==this.form.checkPwd&&(this.pswerrorflag1=!0,this.pswcolorflag1=2))},confirm:function(){var e=this;this.mobileerror?this.$toast.fail("手机号格式错误！"):void 0!==this.form.mobile?void 0!==this.form.verifyCodes?void 0!==this.form.pwd?this.form.pwd===this.form.checkPwd?this.hasAgree?new RegExp("(?=.*[0-9])(?=.*[a-zA-Z]).{8,30}").test(this.form.pwd)?this.$apis.register(this.form).then(function(o){if(100===o.data.status.returnCode)e.$toast.success("注册成功，请重新登录！"),e.$router.push({path:"/login"});else{if(308===o.data.status.returnCode)return e.usererrorflag=!0,e.colorflag=2,!1;if(307===o.data.status.returnCode)return e.codeerrorflag=!0,e.codecolorflag=2,!1;if(306===o.data.status.returnCode)return e.codeerrorflag=!0,e.codecolorflag=2,!1}}):this.$toast.fail("密码不合法（必须包含字母、数字且不少于8位）!"):this.$toast.fail("请阅读用户协议并且勾选"):this.pswerrorflag1=!0:this.$toast.fail("密码不能为空！"):this.$toast.fail("请输入验证码！"):this.$toast.fail("手机号不能为空！")},getCode:function(){var e=this;if(!this.form.mobile)return this.$toast.fail("请填写手机号"),!1;this.$apis.getMsgCode({mobile:this.form.mobile}).then(function(o){if(100===o.data.status.returnCode){e.success=!0;var s=setInterval(function(){e.seconds--,0===e.seconds&&clearInterval(s)},1e3)}})},reGetCode:function(){var e=this;if(!this.form.mobile)return this.$toast.fail("请填写手机号"),!1;this.$apis.getMsgCode({mobile:this.form.mobile}).then(function(o){if(100===o.data.status.returnCode){e.seconds=120;var s=setInterval(function(){e.seconds--,0===e.seconds&&clearInterval(s)},1e3)}})}}},a={render:function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"wx-login-bg"},[s("div",{staticClass:"kada-wx-mobile"},[s("van-field",{class:{"kada-mobile-phonefirst":0==e.colorflag,"kada-mobile-phoneinputfirst":1==e.colorflag,"kada-mobile-phoneerrorfirst":2==e.colorflag},attrs:{clearable:"",placeholder:"请输入手机号"},on:{focus:function(o){return e.changecolor(1,1)},blur:function(o){return e.changecolor(1,0)}},model:{value:e.form.mobile,callback:function(o){e.$set(e.form,"mobile",o)},expression:"form.mobile"}}),e._v(" "),s("van-field",{class:{"kada-mobile-code1":0==e.codecolorflag,"kada-mobile-codeinput1":1==e.codecolorflag,"kada-mobile-codeerror1":2==e.codecolorflag},attrs:{clearable:"",placeholder:"验证码"},on:{focus:function(o){return e.changecolor(3,1)},blur:function(o){return e.changecolor(3,0)}},model:{value:e.form.verifyCodes,callback:function(o){e.$set(e.form,"verifyCodes",o)},expression:"form.verifyCodes"}}),e._v(" "),e.success?e._e():s("div",{staticClass:"kada-mobile-codebuttom",on:{click:e.getCode}},[s("p",[e._v("获取")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.success&&e.seconds>0,expression:"success && seconds>0"}],staticClass:"kada-mobile-codewait",attrs:{id:"seconds"}},[s("p",[e._v(e._s(e.seconds)+"S")])]),e._v(" "),e.success&&0===e.seconds?s("div",{staticClass:"kada-mobile-codebuttom",on:{click:e.reGetCode}},[s("p",[e._v("重新获取")])]):e._e(),e._v(" "),s("van-field",{class:{"kada-mobile-phone":0==e.pswcolorflag,"kada-mobile-phoneinput":1==e.pswcolorflag,"kada-mobile-phoneerror":2==e.pswcolorflag},attrs:{clearable:"",type:"password",placeholder:"密码至少8位 支持数字/字母组合"},on:{focus:function(o){return e.changecolor(2,1)},blur:function(o){return e.changecolor(2,0)}},model:{value:e.form.pwd,callback:function(o){e.$set(e.form,"pwd",o)},expression:"form.pwd"}}),e._v(" "),s("van-field",{class:{"kada-mobile-phone":0==e.pswcolorflag1,"kada-mobile-phoneinput":1==e.pswcolorflag1,"kada-mobile-phoneerror":2==e.pswcolorflag1},attrs:{clearable:"",type:"password",placeholder:"请再次输入密码"},on:{focus:function(o){return e.changecolor(4,1)},blur:function(o){return e.changecolor(4,0)}},model:{value:e.form.checkPwd,callback:function(o){e.$set(e.form,"checkPwd",o)},expression:"form.checkPwd"}}),e._v(" "),s("div",{staticClass:"kada-wx-phone"},[s("svg-icon",{attrs:{"icon-class":"phone"}})],1),e._v(" "),s("div",{staticClass:"kada-wx-psw"},[s("svg-icon",{attrs:{"icon-class":"vcode"}})],1),e._v(" "),s("div",{staticClass:"kada-wx-psw1"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),s("div",{staticClass:"kada-wx-psw2"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.codeerrorflag,expression:"codeerrorflag"}],staticClass:"kada-mobile-tips"},[s("p",[e._v("验证码输入错误")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.usererrorflag,expression:"usererrorflag"}],staticClass:"kada-mobile-tips"},[s("p",[e._v("手机号已被注册，请更换手机号！")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.mobileerror,expression:"mobileerror"}],staticClass:"kada-mobile-tips"},[s("p",[e._v("手机号格式错误")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.pswerrorflag1,expression:"pswerrorflag1"}],staticClass:"kada-mobile-tips"},[s("p",[e._v("两次密码不一致")])]),e._v(" "),s("div",{staticClass:"User-service-agreement"},[s("van-checkbox",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{"checked-color":"#A9461C",shape:"square"},model:{value:e.hasAgree,callback:function(o){e.hasAgree=o},expression:"hasAgree"}}),e._v(" "),s("p",{on:{click:function(o){return e.toPath("/agreement")}}},[e._v("《用户服务协议》")])],1),e._v(" "),s("div",{staticClass:"kada-login-in",on:{click:e.confirm}},[s("p",[e._v("注册")])])],1)])},staticRenderFns:[]},t=s("VU/8")(r,a,!1,null,null,null);o.default=t.exports}});
//# sourceMappingURL=11.fa4bd5cccedeccc0d571.js.map