webpackJsonp([13],{"+7IZ":function(o,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={data:function(){return{show:!1,form:{},seconds:120,success:!1,colorflag:0,pswcolorflag:0,pswcolorflag1:0,codecolorflag:0,codeSrc:"",codeerrorflag:!1,usererrorflag:!1,pswerrorflag:!1,pswerrorflag1:!1}},methods:{toPath:function(o){this.$router.push({path:o})},changecolor:function(o,e){1===o?(this.colorflag=e,this.usererrorflag=!1):2===o?(this.pswcolorflag=e,this.pswerrorflag=!1):3===o?(this.codecolorflag=e,this.codeerrorflag=!1):4===o&&(this.pswcolorflag1=e,this.pswerrorflag1=!1,0===e&&this.form.pwd!==this.form.checkPwd&&(this.pswerrorflag1=!0,this.pswcolorflag1=2))},confirm:function(){var o=this,e=this;void 0!==this.form.mobile?void 0!==this.form.pwd?void 0!==this.form.verifyCodes?this.form.pwd===this.form.checkPwd?this.$apis.resetPsw(this.form).then(function(s){if(100===s.data.status.returnCode)o.$toast.success("修改成功，请重新登录！"),e.$router.push({name:"login"});else{if(308===s.data.status.returnCode)return e.usererrorflag=!0,e.colorflag=2,!1;if(307===s.data.status.returnCode)return e.codeerrorflag=!0,e.codecolorflag=2,!1}}):this.pswerrorflag1=!0:this.$toast.fail("请输入验证码！"):this.$toast.fail("密码不能为空！"):this.$toast.fail("手机号不能为空！")},getCode:function(){var o=this;if(!this.form.mobile)return this.$toast.fail("请填写手机号"),!1;this.$apis.getMsgCode({mobile:this.form.mobile}).then(function(e){if(100===e.data.status.returnCode){o.success=!0;var s=setInterval(function(){o.seconds--,0===o.seconds&&clearInterval(s)},1e3)}})},reGetCode:function(){var o=this;if(!this.form.mobile)return this.$toast.fail("请填写手机号"),!1;this.$apis.getMsgCode({mobile:this.form.mobile}).then(function(e){if(100===e.data.status.returnCode){o.seconds=120;var s=setInterval(function(){o.seconds--,0===o.seconds&&clearInterval(s)},1e3)}})}}},a={render:function(){var o=this,e=o.$createElement,s=o._self._c||e;return s("div",{staticClass:"wx-login-bg"},[s("div",{staticClass:"kada-wx-mobile"},[s("van-field",{class:{"kada-mobile-phonefirst":0==o.colorflag,"kada-mobile-phoneinputfirst":1==o.colorflag,"kada-mobile-phoneerrorfirst":2==o.colorflag},attrs:{clearable:"",placeholder:"请输入手机号"},on:{focus:function(e){return o.changecolor(1,1)},blur:function(e){return o.changecolor(1,0)}},model:{value:o.form.mobile,callback:function(e){o.$set(o.form,"mobile",e)},expression:"form.mobile"}}),o._v(" "),s("van-field",{class:{"kada-mobile-code1":0==o.codecolorflag,"kada-mobile-codeinput1":1==o.codecolorflag,"kada-mobile-codeerror1":2==o.codecolorflag},attrs:{clearable:"",placeholder:"验证码"},on:{focus:function(e){return o.changecolor(3,1)},blur:function(e){return o.changecolor(3,0)}},model:{value:o.form.verifyCodes,callback:function(e){o.$set(o.form,"verifyCodes",e)},expression:"form.verifyCodes"}}),o._v(" "),o.success?o._e():s("div",{staticClass:"kada-mobile-codebuttom",on:{click:o.getCode}},[s("p",[o._v("获取")])]),o._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:o.success&&o.seconds>0,expression:"success && seconds>0"}],staticClass:"kada-mobile-codewait",attrs:{id:"seconds"}},[s("p",[o._v(o._s(o.seconds)+"S")])]),o._v(" "),o.success&&0===o.seconds?s("div",{staticClass:"kada-mobile-codebuttom",on:{click:o.reGetCode}},[s("p",[o._v("重新获取")])]):o._e(),o._v(" "),s("van-field",{class:{"kada-mobile-phone":0==o.pswcolorflag,"kada-mobile-phoneinput":1==o.pswcolorflag,"kada-mobile-phoneerror":2==o.pswcolorflag},attrs:{clearable:"",type:"password",placeholder:"密码至少6位 支持数字/字母组合"},on:{focus:function(e){return o.changecolor(2,1)},blur:function(e){return o.changecolor(2,0)}},model:{value:o.form.pwd,callback:function(e){o.$set(o.form,"pwd",e)},expression:"form.pwd"}}),o._v(" "),s("van-field",{class:{"kada-mobile-phone":0==o.pswcolorflag1,"kada-mobile-phoneinput":1==o.pswcolorflag1,"kada-mobile-phoneerror":2==o.pswcolorflag1},attrs:{clearable:"",type:"password",placeholder:"请再次输入密码"},on:{focus:function(e){return o.changecolor(4,1)},blur:function(e){return o.changecolor(4,0)}},model:{value:o.form.checkPwd,callback:function(e){o.$set(o.form,"checkPwd",e)},expression:"form.checkPwd"}}),o._v(" "),s("div",{staticClass:"kada-wx-phone"},[s("svg-icon",{attrs:{"icon-class":"phone"}})],1),o._v(" "),s("div",{staticClass:"kada-wx-psw"},[s("svg-icon",{attrs:{"icon-class":"vcode"}})],1),o._v(" "),s("div",{staticClass:"kada-wx-psw1"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),o._v(" "),s("div",{staticClass:"kada-wx-psw2"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),o._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:o.codeerrorflag,expression:"codeerrorflag"}],staticClass:"kada-mobile-tips"},[s("p",[o._v("验证码输入错误")])]),o._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:o.usererrorflag,expression:"usererrorflag"}],staticClass:"kada-mobile-tips"},[s("p",[o._v("用户已存在，请更换手机号！")])]),o._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:o.pswerrorflag1,expression:"pswerrorflag1"}],staticClass:"kada-mobile-tips"},[s("p",[o._v("两次密码不一致")])]),o._v(" "),s("div",{staticClass:"kada-login-in",on:{click:o.confirm}},[s("p",[o._v("重置密码")])])],1)])},staticRenderFns:[]},t=s("VU/8")(r,a,!1,null,null,null);e.default=t.exports}});
//# sourceMappingURL=13.b52d953887838135091f.js.map